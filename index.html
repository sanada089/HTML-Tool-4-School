<!doctype html>
<html lang="de">


<head>
  <title>Das wirklich echt funktionierende Tool</title>
  <meta charset="utf-8">
  <style>
    .item1 {grid-area: BlockSelection;}
    .item2 {grid-area: blocklyDiv;}
    .item3 {grid-area: HTMLPage;}
    .item4 {grid-area: HTMLCode;}

    .grid-container{
      display: grid;
      grid-template-areas:
        'BlockSelection blocklyDiv HTMLPage'
        'BlockSelection blocklyDiv HTMLCode';
      gap: 10px;
    }

    #blocklyDiv {
      height: 100vh;
      width: 40vw;
      display: grid;
      background-color: gold;
    }

    #BlockSelectionDiv{
      width: 10vw;
      height: 100vh;
      background-color: blueviolet;

    }

    #HTMLCodeDiv{
      height: 45vh;
      width: 40vw;
      background-color: whitesmoke;
      display: grid;
      overflow: scroll;
    }
    #HTMLPageDiv{
      height: 45vh;
      width: 40vw;
      display: grid;
      background-color: blue;

    }
    #LevelSelectionDiv{
      width: 100vw;
      height: 5vh;
      background-color: lightskyblue;
      margin-bottom: 20px;
    }

    .levelButton {
      border: none;
      color: white;
      text-align: center;
      margin: 4px 2px;
      cursor: pointer;
      font-size: 24px;
      background-color: lightskyblue;
    }

  </style>

  <script src="node_modules/blockly/blockly_compressed.js"></script>
  <script src="node_modules/blockly/blocks_compressed.js"></script>
  <script src="node_modules/blockly/msg/de.js"></script>

</head>

<body>

<script src="js/html_blocks.js"></script>
<script src="js/html_generator.js"></script>
<script src="js/main.js"></script>

<div id="LevelSelectionDiv">
  <button class="levelButton" onclick="location.href='level1.html'">Level 1</button>
</div>

<div class="grid-container">
  <div class="item1"><div id="BlockSelectionDiv"></div></div>
  <div class="item2"><div id="blocklyDiv"></div></div>
  <div class="item3"><div id="HTMLPageDiv"></div></div>
  <div class="item4"><div id="HTMLCodeDiv"></div></div>
</div>

<script>const workspace = Blockly.inject('blocklyDiv', {toolbox:toolbox});
  function update(event){
    var code = HtmlGenerator.workspaceToCode(workspace);
    document.getElementById('HTMLCodeDiv').innerText = code;
  }
workspace.addChangeListener(update);
</script>

</body>

</html>
